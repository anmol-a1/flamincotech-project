<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css"
        integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <title>VPSS</title>
</head>

<body>
<a class="btnss" href="{% url 'export_hardwarepassiveinstall' %}">
          <span class="links_name">Export Hardware ACtive Data</span>
        </a>
    <form action="/admins/hardwarepassiveinstallimport/"  method="post" enctype="multipart/form-data">{% csrf_token %}
            <div><input style="margin-left: 20px;" type="file" accept=".xls" required name="bookfile" id=""></div>
            <button style="margin-left: 20px;margin-top: 10px;" type="submit">Submit</button>
    </form>
    {%csrf_token%}
    <div style="width:3000px;background-color: rgb(241, 241, 241);" class="shadow p-3 mb-5 rounded">

        <form class="my-1">
            <table class="table">
                <thead>
                    <tr>
                        <th>Sr No</th>
                        <th>Make/Brand</th>
                        <th>Model</th>
                        <th>Installation Equipments</th>
                        <th>Unit Description</th>
                        <th>Qty</th>
                        <th>Input Price </th>
                        <th>Discount</th>
                        <th>Discounted Price</th>
                        <th>Freight</th>
                        <th>Input Cost Inclusive of freight</th>
                        <th>Interest or COM</th>
                        <th>Unit Cost (₹)</th>
                        <th>Inward Tax</th>
                        <th>Unit Cost Inclusive of Risk</th>
                        <th>Contigency Percentage</th>
                        <th>Unit Cost Inclusive of Contigency</th>
                        <th>Margin</th>
                        <th>Unit Margin</th>
                        <th>Warranty Charges</th>
                        <th>Unit Price (₹)</th>
                        <th>Insurance Charges </th>
                        <th>List Price without Round up </th>
                        <th>List Price with Rounded up </th>
                    </tr>
                </thead>
                <tbody>
                    {% for entry in entries %}
                    <tr>
                        <td>{{entry.sr_no}}</td>
                        <td>{{entry.MakeBrand}}</td>
                        <td>{{entry.Model}}</td>
                        <td>{{entry.InstallationEquipments}}</td>
                        <td>{{entry.UnitDescription}}</td>
                        <th><input onchange="abcd(event)" class="{{entry.sr_no}}" id="{{entry.sr_no}}Qty" style="width: 55px;border:none" value="{{entry.Qty}}"
                                    type="number"></th>
                        <th><input onchange="efgh(event)" class="{{entry.sr_no}}" id="{{entry.sr_no}}InputPrice" style="width: 95px;border:none"  value="{{entry.InputPrice}}"
                                    type="number"></th>
                        <th><input  id="{{entry.sr_no}}Discount" style="width: 55px;border:none" readonly="true" value="{{InputConfigurations1.passive1}}"
                                    type="number"></th>
                        <th><input  id="{{entry.sr_no}}DiscountedPrice" style="width: 95px;border:none" readonly="true" value="{{entry.DiscountedPrice}}"
                                    type="number"></th>
                        <th><input  id="{{entry.sr_no}}Freight" style="width: 55px;border:none" readonly="true" value="{{InputConfigurations2.passive1}}"
                                    type="number"></th>
                        <th><input  id="{{entry.sr_no}}InputCostInclusiveoffreight" style="width: 95px;border:none" readonly="true" value="{{entry.InputCostInclusiveoffreight}}"
                                    type="number"></th>
                        <th><input  id="{{entry.sr_no}}InterestCOM" style="width: 55px;border:none" readonly="true" value="{{InputConfigurations3.passive1}}"
                                    type="number"></th>
                        <th><input  id="{{entry.sr_no}}UnitCost" style="width: 95px;border:none" readonly="true" value="{{entry.UnitCost}}"
                                    type="number"></th>
                        <th><input  id="{{entry.sr_no}}InwardTax" style="width: 55px;border:none" readonly="true" value="{{InputConfigurations4.passive1}}"
                                    type="number"></th>
                        <th><input  id="{{entry.sr_no}}UnitCostInclusiveofRisk" style="width: 95px;border:none" readonly="true" value="{{entry.UnitCostInclusiveofRisk}}"
                                    type="number"></th>
                        <th><input  id="{{entry.sr_no}}ContigencyPercentage" style="width: 55px;border:none" readonly="true" value="{{InputConfigurations5.passive1}}"
                                    type="number"></th>
                        <th><input  id="{{entry.sr_no}}UnitCostInclusiveofContigency" style="width: 95px;border:none" readonly="true" value="{{entry.UnitCostInclusiveofContigency}}"
                                    type="number"></th>
                        <th><input  id="{{entry.sr_no}}Margin" style="width: 55px;border:none" readonly="true" value="{{InputConfigurations6.passive1}}"
                                    type="number"></th>
                        <th><input  id="{{entry.sr_no}}Unit_Price" style="width: 95px;border:none" readonly="true" value="{{entry.Unit_Price}}"
                                    type="number"></th>
                        <th><input  id="{{entry.sr_no}}WarrantyCharges" style="width: 55px;border:none" readonly="true" value="{{InputConfigurations7.passive1}}"
                                    type="number"></th>
                        <th><input  id="{{entry.sr_no}}UnitPrice" style="width: 95px;border:none" readonly="true" value="{{entry.UnitPrice}}"
                                    type="number"></th>
                        <th><input  id="{{entry.sr_no}}InsuranceCharges" style="width: 55px;border:none" readonly="true" value="{{InputConfigurations8.passive1}}"
                                    type="number"></th>
                        <th><input  id="{{entry.sr_no}}ListPricewithoutRoundup" style="width: 95px;border:none" readonly="true" value="{{entry.ListPricewithoutRoundup}}"
                                    type="number"></th>
                        <th><input  id="{{entry.sr_no}}ListPricewithRoundedup" style="width: 95px;border:none" readonly="true" value="{{entry.ListPricewithRoundedup}}"
                                    type="number"></th>
                        <td><button value="{{entry.sr_no}}" id="{{entry.sr_no}}" type="submit"  class="btn btn-primary save">Save</button></td>
                    </tr>


                    {% endfor %}

                </tbody>
            </table>

        </form>

    </div>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js"
        integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js"
        integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
        crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
    <script>
        $(document).on('click', '.save', function (e) {
            e.preventDefault();
            let sr_no=$(this).val();
            $.ajax({
                type: 'POST',
                url: '{% url "edithardwarepassiveinstall" %}',
                data: {
                    sr_no:sr_no,
                    Qty:parseInt(document.getElementById(sr_no+"Qty").value),
                    InputPrice:parseInt(document.getElementById(sr_no+"InputPrice").value),
                    DiscountedPrice:parseInt(document.getElementById(sr_no+"DiscountedPrice").value),
                    InputCostInclusiveoffreight:parseInt(document.getElementById(sr_no+"InputCostInclusiveoffreight").value),
                    UnitCost:parseInt(document.getElementById(sr_no+"UnitCost").value),
                    UnitCostInclusiveofRisk:parseInt(document.getElementById(sr_no+"UnitCostInclusiveofRisk").value),
                    UnitCostInclusiveofContigency:parseInt(document.getElementById(sr_no+"UnitCostInclusiveofContigency").value),
                    
                    Unit_Price:parseInt(document.getElementById(sr_no+"Unit_Price").value),
                    
                    UnitPrice:parseInt(document.getElementById(sr_no+"UnitPrice").value),
                    
                    ListPricewithoutRoundup:parseInt(document.getElementById(sr_no+"ListPricewithoutRoundup").value),
                    ListPricewithRoundedup:parseInt(document.getElementById(sr_no+"ListPricewithRoundedup").value),
                    csrfmiddlewaretoken: $('input[name=csrfmiddlewaretoken]').val(),
                    action: 'post'
                },
                success: function (json) {
                   console.log(json.adg);
            
                },
                error: function (xhr, errmsg, err) {
            
                }
            });
        })
    </script>

</body>

</html>