<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css"
        integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <title>Document</title>
    <style>
.btn {
  background-color: #20558B;
  border: none;
  color: white;
  padding: 3px 5px;
  cursor: pointer;
  font-size: 18px;
}

/* Darker background on mouse-over */
/* .btn:hover {
  background-color: rgb(0, 64, 255);
} */
input[type=file]::file-selector-button {
  margin-top: 2px;
  border: 2px solid #20558B;
  padding: .2em .4em;
  color: white;
  border-radius: .2em;
  background-color: #20558B;
  transition: 1s;
}

input[type=file]::file-selector-button:hover {
  background-color: rgb(0, 64, 255);
  border: 2px solid rgb(0, 64, 255);
}
</style>
</head>

<body>
         {%csrf_token%}
    <div style="display:flex;align-items:flex-end" >
    <form  action="/admins/percentagechangesheetimport/" style="display:flex;align-items:flex-end" class="mx-3"  method="post" enctype="multipart/form-data">{% csrf_token %}
            <div style="display:inline-block"><input type="file" style="color: blue;" accept=".xls" required name="bookfile" id=""></div>
            <button type="submit" class="btn"><i class="fa fa-paper-plane"></i>Submit</button>
    </form>
    <a style="margin-left:auto ;" class="btnss" href="{% url 'export_percentagechangesheet' %}">
          <button class="btn mx-3"><i class="fa fa-download"></i> Download</button>
        </a>
    </div>
    <div style="width: auto;" class="shadow p-3 mb-5 my-1 rounded">
        <!-- <div style="text-align: left;" class="container my-5">
            <h3><b>Percentage Change Sheet</b></h3>
        </div> -->
        <div style="text-align: center;" class="container my-1">
            <h3><b>Supply</b></h3>
        </div>
        <table>
            <form class="my-5">
                <table class="table" border='1' style="border:2px solid grey">
                    <thead>
                        <tr style="background-color: #20558B;;color:white">
                            <th scope="col"> Sr No</th>
                            <th scope="col">Description </th>
                            <th scope="col">FT Hardware <br>(In %)  </th>
                            <th scope="col">Active <br>  (In %)</th>
                            <th scope="col">Passive  <br> (In %)</th>
                            <th scope="col">DDC & Sensor <br>  (In %)</th>
                            <th scope="col">Third Party  <br> (In %)</th>
                            <th scope="col">Cabling Piping Tray  <br> (In %)</th>
                            <th scope="col"><br></th>
                        </tr>
                    </thead>
                    <tbody style="background-color:#ffffff"> 
                        {% for entry in entries %}
                        <tr>
                            <td>{{entry.sr_no}}</td>
                            <td>{{entry.desc}}</td>
                            <td><input class="{{entry.sr_no}}1" id="{{entry.sr_no}}1hardware" style="width: 55px;border:none"  value="{{entry.ft_hardware}}"
                                    type="number"></td>
                            <td><input class="{{entry.sr_no}}1" id="{{entry.sr_no}}1active" style="width: 55px;border:none"  value="{{entry.active}}"
                                    type="number"></td>
                            <td><input class="{{entry.sr_no}}1" id="{{entry.sr_no}}1passive" style="width: 55px;border:none"  value="{{entry.passive}}"
                                    type="number"></td>
                            <td><input class="{{entry.sr_no}}1" id="{{entry.sr_no}}1ddcsensor" style="width: 55px;border:none"  value="{{entry.ddcsensor}}"
                                    type="number"></td>
                            <td><input class="{{entry.sr_no}}1" id="{{entry.sr_no}}1thirdparty" style="width: 55px;border:none"  value="{{entry.thirdparty}}"
                                    type="number"></td>
                            <td><input class="{{entry.sr_no}}1" id="{{entry.sr_no}}1cabpiptray" style="width: 55px;border:none"  value="{{entry.cabpiptray}}"
                                    type="number"></td>
                            <td><button value="{{entry.sr_no}}1" id="{{entry.sr_no}}1" type="submit"  class="btn btn-primary save">Save</button></td>
                        </tr>
                        {% endfor %}

                    </tbody>

            </form>
        </table>
        <div style="text-align: center;" class="container my-5">
            <h3><b>Installation</b></h3>
        </div>
        <table>
            <form class="my-5">
                <table class="table" border='1' style="border:2px solid grey">
                    <thead>

                        <tr style="background-color: #20558B;;color:white">
                            <th>Sr No</th>
                            <th>Entries</th>
                            <th>FT Hardware <br> (In %) </th>
                            <th>Active <br> (In %)</th>
                            <th>Passive <br> (In %)</th>
                            <th>DDC & Sensor <br> (In %)</th>
                            <th>Third Party <br> (In %)</th>
                            <th>Cabling Piping Tray <br> (In %)</th>
                            <th>FT MAN DAY EFFORT <br> (In %)</th>
                            <th> MISC DOCUMENTATION <br> (In %)</th>
                            <th>FT1 <br> (In %)</th>
                            <th>FT2 <br> (In %)</th>
                            <th>FT3 <br> (In %)</th>
                            <th><br></th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for entry in entries %}
                        <tr style="background-color:#ffffff">
                            <td>{{entry.sr_no}}</td>
                            <td>{{entry.desc}}</td>
                            <td><input class="{{entry.sr_no}}2" id="{{entry.sr_no}}2hardware"  style="width: 55px;border:none"  value="{{entry.ft_hardware1}}"
                                    type="number"></td>
                            <td><input class="{{entry.sr_no}}2" id="{{entry.sr_no}}2active" style="width: 55px;border:none"  value="{{entry.active1}}"
                                    type="number"></td>
                            <td><input class="{{entry.sr_no}}2" id="{{entry.sr_no}}2passive" style="width: 55px;border:none"  value="{{entry.passive1}}"
                                    type="number"></td>
                            <td><input class="{{entry.sr_no}}2" id="{{entry.sr_no}}2ddcsensor" style="width: 55px;border:none"  value="{{entry.ddcsensor1}}"
                                    type="number"></td>
                            <td><input class="{{entry.sr_no}}2" id="{{entry.sr_no}}2thirdparty" style="width: 55px;border:none"  value="{{entry.thirdparty1}}"
                                    type="number"></td>
                            <td><input class="{{entry.sr_no}}2" id="{{entry.sr_no}}2cabpiptray" style="width: 55px;border:none"  value="{{entry.cabpiptray1}}"
                                    type="number"></td>
                            <td><input class="{{entry.sr_no}}2" id="{{entry.sr_no}}2ftmandayeffort" style="width: 55px;border:none"  value="{{entry.ftmandayeffort}}"
                                    type="number"></td>
                            <td><input class="{{entry.sr_no}}2" id="{{entry.sr_no}}2othersmicffort" style="width: 55px;border:none"  value="{{entry.othersmicffort}}"
                                    type="number"></td>
                            <td><input class="{{entry.sr_no}}2" id="{{entry.sr_no}}2ft2" style="width: 55px;border:none"  value="{{entry.ft2}}"
                                    type="number"></td>
                            <td><input class="{{entry.sr_no}}2" id="{{entry.sr_no}}2ft3" style="width: 55px;border:none"  value="{{entry.ft3}}"
                                    type="number"></td>
                            <td><input class="{{entry.sr_no}}2" id="{{entry.sr_no}}2ft4" style="width: 55px;border:none"  value="{{entry.ft4}}"
                                    type="number"></td>
                            <td><button value="{{entry.sr_no}}2" id="{{entry.sr_no}}2" type="submit"  class="btn btn-primary save1">Save</button></td>
                        </tr>
                        {% endfor %}
                    </tbody>

            </form>
        </table>
    </div>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js"
        integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js"
        integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
        crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
    <script>
        
        $(document).on('click', '.save', function (e) {
            e.preventDefault();
            let sr_no=$(this).val();
            var ft_hardware=document.getElementById(sr_no+"hardware").value;
            var active=document.getElementById(sr_no+"active").value;
            var passive=document.getElementById(sr_no+"passive").value;
            var ddcsensor=document.getElementById(sr_no+"ddcsensor").value;
            var thirdparty=document.getElementById(sr_no+"thirdparty").value;
            var cabpiptray=document.getElementById(sr_no+"cabpiptray").value;
            e.preventDefault();
            $.ajax({
                type: 'POST',
                url: '{% url "editconfiguration" %}',
                data: {
                    sr_no:sr_no,
                    ft_hardware:ft_hardware,
                    active:active,
                    passive:passive,
                    ddcsensor:ddcsensor,
                    thirdparty:thirdparty,
                    cabpiptray:cabpiptray,
                    csrfmiddlewaretoken: $('input[name=csrfmiddlewaretoken]').val(),
                    action: 'post'
                },
                success: function (json) {
                   console.log(json.adg);
                
                },
                error: function (xhr, errmsg, err) {
            
                }
            });
        })
        $(document).on('click', '.save1', function (e) {
            e.preventDefault();
            let sr_no=$(this).val();
            var ft_hardware=document.getElementById(sr_no+"hardware").value;
            var active=document.getElementById(sr_no+"active").value;
            var passive=document.getElementById(sr_no+"passive").value;
            var ddcsensor=document.getElementById(sr_no+"ddcsensor").value;
            var thirdparty=document.getElementById(sr_no+"thirdparty").value;
            var cabpiptray=document.getElementById(sr_no+"cabpiptray").value;
            var ftmandayeffort=document.getElementById(sr_no+"ftmandayeffort").value;
            var othersmicffort=document.getElementById(sr_no+"othersmicffort").value;
            var ft2=document.getElementById(sr_no+"ft2").value;
            var ft3=document.getElementById(sr_no+"ft3").value;
            var ft4=document.getElementById(sr_no+"ft4").value;
            e.preventDefault();
            $.ajax({
                type: 'POST',
                url: '{% url "editconfiguration1" %}',
                data: {
                    sr_no:sr_no,
                    ft_hardware:ft_hardware,
                    active:active,
                    passive:passive,
                    ddcsensor:ddcsensor,
                    thirdparty:thirdparty,
                    cabpiptray:cabpiptray,
                    ftmandayeffort:ftmandayeffort,
                    othersmicffort:othersmicffort,
                    ft2:ft2,
                    ft3:ft3,
                    ft4:ft4,
                    csrfmiddlewaretoken: $('input[name=csrfmiddlewaretoken]').val(),
                    action: 'post'
                },
                success: function (json) {
                   console.log(json.adg);
                  
                },
                error: function (xhr, errmsg, err) {
            
                }
            });
        })
        
    </script>

</body>

</html>