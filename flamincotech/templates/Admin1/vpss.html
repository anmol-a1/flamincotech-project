<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css"
        integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <title>VPSS</title>
</head>

<style>
.btn {
  background-color: #20558B;
  border: none;
  color: white;
  padding: 3px 5px;
  cursor: pointer;
  font-size: 18px;
}

/* Darker background on mouse-over */
/* .btn:hover {
  background-color: rgb(0, 64, 255);
} */
input[type=file]::file-selector-button {
  margin-top: 2px;
  border: 2px solid #22508b;
  padding: .2em .4em;
  color: white;
  border-radius: .2em;
  background-color: #22508b;
  transition: 1s;
}

/* input[type=file]::file-selector-button:hover {
  background-color: rgb(0, 64, 255);
  border: 2px solid rgb(0, 64, 255);
} */
</style>
<body>
        {%csrf_token%}
    
  <div style="display:flex;align-items:flex-end" >
    <form  action="/admins/vpssimport/" style="display:flex;align-items:flex-end" class="mx-3"  method="post" enctype="multipart/form-data">{% csrf_token %}
            <div style="display:inline-block"><input type="file" style="color: blue;" accept=".xls" required name="bookfile" id=""></div>
            <button type="submit" class="btn"><i class=""></i>Upload</button>
    </form>
    <a style="margin-left:auto ;" class="btnss" href="{% url 'export_vpss' %}">
          <button class="btn mx-3"><i class="fa fa-download"></i> Download</button>
        </a>
    </div>

    <h4 style="text-align: center;">Variable Project Specific Sheet</h4> 
    <div style="width:3000px;" class="mx-3 shadow my-2 p-3 mb-5 rounded">

        <form class="my-1">
            <table class="table" border='1' style="border:2px solid grey;">
                <thead>
                    <tr style="background-color: #20558B;;color:white;">
                        <th>Sr No</th>
                        <th>Make/Brand</th>
                        <th>Model</th>
                        <th>Installation Equipments</th>
                        <th>Unit Description</th>
                        <th>Qty</th>
                        <th>Input Price (₹)&emsp;&emsp;&emsp;&emsp;&emsp;</th>
                        <th>Discount (In %)</th>
                        <th>Discounted&emsp;&ensp; Price (₹)</th>
                        <th>Freight (In %)</th>
                        <th>Input Cost Inclusive of freight (₹)</th>
                        <th>Interest or COM (In %)</th>
                        <th>Unit Cost (₹)&emsp;&emsp;&emsp;&emsp;&emsp;</th>
                        <th>Inward Tax (In %)</th>
                        <th>Unit Cost Inclusive of Risk&emsp;&emsp;&emsp;&emsp;&ensp;</th>
                        <th>Contigency Percentage (In %)</th>
                        <th>Unit Cost Inclusive of Contigency&emsp;</th>
                        <th> Total Cost (₹)&emsp;&emsp;&emsp;&emsp;&emsp;</th>
                        <th>Margin (In %)</th>
                        <th>Unit Margin (₹)&emsp;&emsp;&emsp;&emsp;&emsp;</th>
                        <th>Total Price (₹)&emsp;&emsp;&emsp;&emsp;&emsp;</th>
                        <th>Warranty Charges (In %)</th>
                        <th>Unit Price (₹)&emsp;&emsp;&emsp;&emsp;&emsp;</th>
                        <th>Final Total Price (₹)&emsp;&emsp;&emsp;&emsp;&emsp;</th>
                        <th>Insurance Charges (In %) </th>
                        <th>List Price without Round up</th>
                        <th>List Price with Rounded up</th>
                        <th> Action</th>
                    </tr>
                </thead>
                <tbody>
                    {% for entry in entries1 %}
                    <tr style="background-color:white">
                        <td>{{entry.sr_no}}</td>
                        <td>{{entry.MakeBrand}}</td>
                        <td>{{entry.Model}}</td>
                        <td>{{entry.InstallationEquipments}}</td>
                        <td>{{entry.UnitDescription}}</td>
                        <th><input onchange="abcd(event)" class="{{entry.sr_no}}" id="{{entry.sr_no}}Qty" style="width: 55px;border:none" value="{{entry.Qty}}"
                                    type="number"></th>
                        <th>&#8377;<input onchange="efgh(event)" class="{{entry.sr_no}}" id="{{entry.sr_no}}InputPrice" style="width: 90px;border:none"  value="{{entry.InputPrice}}"
                                    type="number"></th>
                        <th><input  id="{{entry.sr_no}}Discount" style="width: 55px;border:none" readonly="true" value="{{InputConfigurations1.othersmicffort}}"
                                    type="number"></th>
                        <th>&#8377;<input  id="{{entry.sr_no}}DiscountedPrice" style="width: 95px;border:none" readonly="true" value="{{entry.DiscountedPrice}}"
                                    type="number"></th>
                        <th><input  id="{{entry.sr_no}}Freight" style="width: 55px;border:none" readonly="true" value="{{InputConfigurations2.othersmicffort}}"
                                    type="number"></th>
                        <th>&#8377;<input  id="{{entry.sr_no}}InputCostInclusiveoffreight" style="width: 95px;border:none" readonly="true" value="{{entry.InputCostInclusiveoffreight}}"
                                    type="number"></th>
                        <th><input  id="{{entry.sr_no}}InterestCOM" style="width: 55px;border:none" readonly="true" value="{{InputConfigurations3.othersmicffort}}"
                                    type="number"></th>
                        <th>&#8377;<input  id="{{entry.sr_no}}UnitCost" style="width: 90px;border:none" readonly="true" value="{{entry.UnitCost}}"
                                    type="number"></th>
                        <th><input  id="{{entry.sr_no}}InwardTax" style="width: 55px;border:none" readonly="true" value="{{InputConfigurations4.othersmicffort}}"
                                    type="number"></th>
                        <th>&#8377;<input  id="{{entry.sr_no}}UnitCostInclusiveofRisk" style="width: 90px;border:none" readonly="true" value="{{entry.UnitCostInclusiveofRisk}}"
                                    type="number"></th>
                        <th><input  id="{{entry.sr_no}}ContigencyPercentage" style="width: 55px;border:none" readonly="true" value="{{InputConfigurations5.othersmicffort}}"
                                    type="number"></th>
                        <th>&#8377;<input  id="{{entry.sr_no}}UnitCostInclusiveofContigency" style="width: 90px;border:none" readonly="true" value="{{entry.UnitCostInclusiveofContigency}}"
                                    type="number"></th>
                        <th>&#8377;<input  id="{{entry.sr_no}}TotalCost" style="width: 90px;border:none" readonly="true" value="{{entry.TotalCost}}"
                                    type="number"></th>
                        <th><input  id="{{entry.sr_no}}Margin" style="width: 55px;border:none" readonly="true" value="{{InputConfigurations6.othersmicffort}}"
                                    type="number"></th>
                        <th>&#8377;<input  id="{{entry.sr_no}}Unit_Price" style="width: 90px;border:none" readonly="true" value="{{entry.Unit_Price}}"
                                    type="number"></th>
                        <th>&#8377;<input  id="{{entry.sr_no}}TotalPrice" style="width: 90px;border:none" readonly="true" value="{{entry.TotalPrice}}"
                                    type="number"></th>
                        <th><input  id="{{entry.sr_no}}WarrantyCharges" style="width: 55px;border:none" readonly="true" value="{{InputConfigurations7.othersmicffort}}"
                                    type="number"></th>
                        <th>&#8377;<input  id="{{entry.sr_no}}UnitPrice" style="width: 90px;border:none" readonly="true" value="{{entry.UnitPrice}}"
                                    type="number"></th>
                        <th>&#8377;<input  id="{{entry.sr_no}}FinalTotalPrice" style="width: 90px;border:none" readonly="true" value="{{entry.FinalTotalPrice}}"
                                    type="number"></th>
                        <th><input  id="{{entry.sr_no}}InsuranceCharges" style="width: 55px;border:none" readonly="true" value="{{InputConfigurations8.othersmicffort}}"
                                    type="number"></th>
                        <th>&#8377;<input  id="{{entry.sr_no}}ListPricewithoutRoundup" style="width: 90px;border:none" readonly="true" value="{{entry.ListPricewithoutRoundup}}"
                                    type="number"></th>
                        <th>&#8377;<input  id="{{entry.sr_no}}ListPricewithRoundedup" style="width: 90px;border:none" readonly="true" value="{{entry.ListPricewithRoundedup}}"
                                    type="number"></th>
                        <td><button value="{{entry.sr_no}}" id="{{entry.sr_no}}" type="submit"  class="btn btn-primary save">Save</button></td>
                    </tr>


                    {% endfor %}
                    {% for entry in entries2 %}
                    <tr style="background-color:white">
                        <td>{{entry.sr_no}}</td>
                        <td>{{entry.MakeBrand}}</td>
                        <td>{{entry.Model}}</td>
                        <td>{{entry.InstallationEquipments}}</td>
                        <td>{{entry.UnitDescription}}</td>
                        <th><input onchange="abcd(event)" class="{{entry.sr_no}}" id="{{entry.sr_no}}Qty" style="width: 55px;border:none" value="{{entry.Qty}}"
                                    type="number"></th>
                        <th><input onchange="efgh(event)" class="{{entry.sr_no}}" id="{{entry.sr_no}}InputPrice" style="width: 95px;border:none"  value="{{entry.InputPrice}}"
                                    type="number"></th>
                        <th><input  id="{{entry.sr_no}}Discount" style="width: 55px;border:none" readonly="true" value="{{InputConfigurations1.ddcsensor}}"
                                    type="number"></th>
                        <th><input  id="{{entry.sr_no}}DiscountedPrice" style="width: 95px;border:none" readonly="true" value="{{entry.DiscountedPrice}}"
                                    type="number"></th>
                        <th><input  id="{{entry.sr_no}}Freight" style="width: 55px;border:none" readonly="true" value="{{InputConfigurations2.ddcsensor}}"
                                    type="number"></th>
                        <th><input  id="{{entry.sr_no}}InputCostInclusiveoffreight" style="width: 95px;border:none" readonly="true" value="{{entry.InputCostInclusiveoffreight}}"
                                    type="number"></th>
                        <th><input  id="{{entry.sr_no}}InterestCOM" style="width: 55px;border:none" readonly="true" value="{{InputConfigurations3.ddcsensor}}"
                                    type="number"></th>
                        <th><input  id="{{entry.sr_no}}UnitCost" style="width: 95px;border:none" readonly="true" value="{{entry.UnitCost}}"
                                    type="number"></th>
                        <th><input  id="{{entry.sr_no}}InwardTax" style="width: 55px;border:none" readonly="true" value="{{InputConfigurations4.ddcsensor}}"
                                    type="number"></th>
                        <th><input  id="{{entry.sr_no}}UnitCostInclusiveofRisk" style="width: 95px;border:none" readonly="true" value="{{entry.UnitCostInclusiveofRisk}}"
                                    type="number"></th>
                        <th><input  id="{{entry.sr_no}}ContigencyPercentage" style="width: 55px;border:none" readonly="true" value="{{InputConfigurations5.ddcsensor}}"
                                    type="number"></th>
                        <th><input  id="{{entry.sr_no}}UnitCostInclusiveofContigency" style="width: 95px;border:none" readonly="true" value="{{entry.UnitCostInclusiveofContigency}}"
                                    type="number"></th>
                        <th><input  id="{{entry.sr_no}}TotalCost" style="width: 95px;border:none" readonly="true" value="{{entry.TotalCost}}"
                                    type="number"></th>
                        <th><input  id="{{entry.sr_no}}Margin" style="width: 55px;border:none" readonly="true" value="{{InputConfigurations6.ddcsensor}}"
                                    type="number"></th>
                        <th><input  id="{{entry.sr_no}}Unit_Price" style="width: 95px;border:none" readonly="true" value="{{entry.Unit_Price}}"
                                    type="number"></th>
                        <th><input  id="{{entry.sr_no}}TotalPrice" style="width: 95px;border:none" readonly="true" value="{{entry.TotalPrice}}"
                                    type="number"></th>
                        <th><input  id="{{entry.sr_no}}WarrantyCharges" style="width: 55px;border:none" readonly="true" value="{{InputConfigurations7.ddcsensor}}"
                                    type="number"></th>
                        <th><input  id="{{entry.sr_no}}UnitPrice" style="width: 95px;border:none" readonly="true" value="{{entry.UnitPrice}}"
                                    type="number"></th>
                        <th><input  id="{{entry.sr_no}}FinalTotalPrice" style="width: 95px;border:none" readonly="true" value="{{entry.FinalTotalPrice}}"
                                    type="number"></th>
                        <th><input  id="{{entry.sr_no}}InsuranceCharges" style="width: 55px;border:none" readonly="true" value="{{InputConfigurations8.ddcsensor}}"
                                    type="number"></th>
                        <th><input  id="{{entry.sr_no}}ListPricewithoutRoundup" style="width: 95px;border:none" readonly="true" value="{{entry.ListPricewithoutRoundup}}"
                                    type="number"></th>
                        <th><input  id="{{entry.sr_no}}ListPricewithRoundedup" style="width: 95px;border:none" readonly="true" value="{{entry.ListPricewithRoundedup}}"
                                    type="number"></th>
                        <td><button value="{{entry.sr_no}}" id="{{entry.sr_no}}" type="submit"  class="btn btn-primary save">Save</button></td>
                    </tr>    




                    {% endfor %}

                </tbody>
            </table>

        </form>

    </div>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.3/dist/umd/popper.min.js"
        integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js"
        integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
        crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
    <script>
var lmno={{ entries1|length }};
var lmno1={{ entries2|length }};
lmno=lmno+lmno1;
        for(var i=1;i<=lmno;i++){
            var Qty=document.getElementById(i+"Qty");
            var InputPrice=document.getElementById(i+"InputPrice");
            var Discount=document.getElementById(i+"Discount");
            var DiscountedPrice=document.getElementById(i+"DiscountedPrice");
            var Freight=document.getElementById(i+"Freight");
            var InputCostInclusiveoffreight=document.getElementById(i+"InputCostInclusiveoffreight");
            var InterestCOM=document.getElementById(i+"InterestCOM");
            var UnitCost=document.getElementById(i+"UnitCost");
            var InwardTax=document.getElementById(i+"InwardTax");
            var UnitCostInclusiveofRisk=document.getElementById(i+"UnitCostInclusiveofRisk");
            var ContigencyPercentage=document.getElementById(i+"ContigencyPercentage");
            var UnitCostInclusiveofContigency=document.getElementById(i+"UnitCostInclusiveofContigency");
            var Margin=document.getElementById(i+"Margin");
            var Unit_Price=document.getElementById(i+"Unit_Price");
            var WarrantyCharges=document.getElementById(i+"WarrantyCharges");
            var UnitPrice=document.getElementById(i+"UnitPrice");
            var InsuranceCharges=document.getElementById(i+"InsuranceCharges");
            var ListPricewithoutRoundup=document.getElementById(i+"ListPricewithoutRoundup");
            var ListPricewithRoundedup=document.getElementById(i+"ListPricewithRoundedup");
            DiscountedPrice.value=Math.ceil((InputPrice.value)-(InputPrice.value * (Discount.value)/100)); 
            InputCostInclusiveoffreight.value=Math.ceil(1*(DiscountedPrice.value)+1*(DiscountedPrice.value * (Freight.value)/100));
            UnitCost.value=Math.ceil(1*(InputCostInclusiveoffreight.value)+1*(InputCostInclusiveoffreight.value * (InterestCOM.value)/100));
            UnitCostInclusiveofRisk.value=Math.ceil(1*(UnitCost.value)+1*(UnitCost.value * (InwardTax.value)/100));
            UnitCostInclusiveofContigency.value=Math.ceil(1*(UnitCostInclusiveofRisk.value)+1*(UnitCostInclusiveofRisk.value * (ContigencyPercentage.value)/100));
            
            Unit_Price.value=Math.ceil((100*UnitCostInclusiveofContigency.value)/(100-Margin.value));
            
            UnitPrice.value=Math.ceil(1*(Unit_Price.value)+1*(Unit_Price.value * (WarrantyCharges.value)/100));
           
            ListPricewithoutRoundup.value=Math.ceil(1*(UnitPrice.value)+1*(UnitPrice.value*InsuranceCharges.value/100));
            
            ListPricewithRoundedup.value=(Math.ceil(ListPricewithoutRoundup.value/50))*50;

 
}
        function abcd(e){
            var sr_no=parseInt(e.target.className);
            var Qty=document.getElementById(sr_no+"Qty");
            var InputPrice=document.getElementById(sr_no+"InputPrice");
            var Discount=document.getElementById(sr_no+"Discount");
            var DiscountedPrice=document.getElementById(sr_no+"DiscountedPrice");
            var Freight=document.getElementById(sr_no+"Freight");
            var InputCostInclusiveoffreight=document.getElementById(sr_no+"InputCostInclusiveoffreight");
            var InterestCOM=document.getElementById(sr_no+"InterestCOM");
            var UnitCost=document.getElementById(sr_no+"UnitCost");
            var InwardTax=document.getElementById(sr_no+"InwardTax");
            var UnitCostInclusiveofRisk=document.getElementById(sr_no+"UnitCostInclusiveofRisk");
            var ContigencyPercentage=document.getElementById(sr_no+"ContigencyPercentage");
            var UnitCostInclusiveofContigency=document.getElementById(sr_no+"UnitCostInclusiveofContigency");
            var TotalCost=document.getElementById(sr_no+"TotalCost");
            var Margin=document.getElementById(sr_no+"Margin");
            var Unit_Price=document.getElementById(sr_no+"Unit_Price");
            var TotalPrice=document.getElementById(sr_no+"TotalPrice");
            var WarrantyCharges=document.getElementById(sr_no+"WarrantyCharges");
            var UnitPrice=document.getElementById(sr_no+"UnitPrice");
            var FinalTotalPrice=document.getElementById(sr_no+"FinalTotalPrice");
            var InsuranceCharges=document.getElementById(sr_no+"InsuranceCharges");
            var ListPricewithoutRoundup=document.getElementById(sr_no+"ListPricewithoutRoundup");
            var ListPricewithRoundedup=document.getElementById(sr_no+"ListPricewithRoundedup");
            DiscountedPrice.value=Math.ceil((InputPrice.value)-(InputPrice.value * (Discount.value)/100)); 
            InputCostInclusiveoffreight.value=Math.ceil(1*(DiscountedPrice.value)+1*(DiscountedPrice.value * (Freight.value)/100));
            UnitCost.value=Math.ceil(1*(InputCostInclusiveoffreight.value)+1*(InputCostInclusiveoffreight.value * (InterestCOM.value)/100));
            UnitCostInclusiveofRisk.value=Math.ceil(1*(UnitCost.value)+1*(UnitCost.value * (InwardTax.value)/100));
            UnitCostInclusiveofContigency.value=Math.ceil(1*(UnitCostInclusiveofRisk.value)+1*(UnitCostInclusiveofRisk.value * (ContigencyPercentage.value)/100));
            TotalCost.value=Qty.value*UnitCostInclusiveofContigency.value;

            Unit_Price.value=Math.ceil((100*UnitCostInclusiveofContigency.value)/(100-Margin.value));
            TotalPrice.value=Unit_Price.value * Qty.value;
            
            UnitPrice.value=Math.ceil(1*(Unit_Price.value)+1*(Unit_Price.value * (WarrantyCharges.value)/100));
            FinalTotalPrice.value=UnitPrice.value * Qty.value;

            ListPricewithoutRoundup.value=Math.ceil(1*(UnitPrice.value)+1*(UnitPrice.value*InsuranceCharges.value/100));
            
            ListPricewithRoundedup.value=(Math.ceil(ListPricewithoutRoundup.value/50))*50;
        }
        function efgh(e){
            var sr_no=parseInt(e.target.className);
            var Qty=document.getElementById(sr_no+"Qty");
            var InputPrice=document.getElementById(sr_no+"InputPrice");
            var Discount=document.getElementById(sr_no+"Discount");
            var DiscountedPrice=document.getElementById(sr_no+"DiscountedPrice");
            var Freight=document.getElementById(sr_no+"Freight");
            var InputCostInclusiveoffreight=document.getElementById(sr_no+"InputCostInclusiveoffreight");
            var InterestCOM=document.getElementById(sr_no+"InterestCOM");
            var UnitCost=document.getElementById(sr_no+"UnitCost");
            var InwardTax=document.getElementById(sr_no+"InwardTax");
            var UnitCostInclusiveofRisk=document.getElementById(sr_no+"UnitCostInclusiveofRisk");
            var ContigencyPercentage=document.getElementById(sr_no+"ContigencyPercentage");
            var UnitCostInclusiveofContigency=document.getElementById(sr_no+"UnitCostInclusiveofContigency");
            var TotalCost=document.getElementById(sr_no+"TotalCost");
            var Margin=document.getElementById(sr_no+"Margin");
            var Unit_Price=document.getElementById(sr_no+"Unit_Price");
            var TotalPrice=document.getElementById(sr_no+"TotalPrice");
            var WarrantyCharges=document.getElementById(sr_no+"WarrantyCharges");
            var UnitPrice=document.getElementById(sr_no+"UnitPrice");
            var FinalTotalPrice=document.getElementById(sr_no+"FinalTotalPrice");
            var InsuranceCharges=document.getElementById(sr_no+"InsuranceCharges");
            var ListPricewithoutRoundup=document.getElementById(sr_no+"ListPricewithoutRoundup");
            var ListPricewithRoundedup=document.getElementById(sr_no+"ListPricewithRoundedup");
            DiscountedPrice.value=Math.ceil((InputPrice.value)-(InputPrice.value * (Discount.value)/100)); 
            InputCostInclusiveoffreight.value=Math.ceil(1*(DiscountedPrice.value)+1*(DiscountedPrice.value * (Freight.value)/100));
            UnitCost.value=Math.ceil(1*(InputCostInclusiveoffreight.value)+1*(InputCostInclusiveoffreight.value * (InterestCOM.value)/100));
            UnitCostInclusiveofRisk.value=Math.ceil(1*(UnitCost.value)+1*(UnitCost.value * (InwardTax.value)/100));
            UnitCostInclusiveofContigency.value=Math.ceil(1*(UnitCostInclusiveofRisk.value)+1*(UnitCostInclusiveofRisk.value * (ContigencyPercentage.value)/100));
            TotalCost.value=Qty.value*UnitCostInclusiveofContigency.value;

            Unit_Price.value=Math.ceil((100*UnitCostInclusiveofContigency.value)/(100-Margin.value));
            TotalPrice.value=Unit_Price.value * Qty.value;
            
            UnitPrice.value=Math.ceil(1*(Unit_Price.value)+1*(Unit_Price.value * (WarrantyCharges.value)/100));
            FinalTotalPrice.value=UnitPrice.value * Qty.value;

            ListPricewithoutRoundup.value=Math.ceil(1*(UnitPrice.value)+1*(UnitPrice.value*InsuranceCharges.value/100));
            
            ListPricewithRoundedup.value=(Math.ceil(ListPricewithoutRoundup.value/50))*50;
        }
        $(document).on('click', '.edit', function (e) {
            e.preventDefault();
            var sr_no = $(this).val();
            console.log(sr_no);
            sr_no = sr_no;
            document.getElementById(sr_no).disabled = false;
            const boxes = document.getElementsByClassName(sr_no);
            for (const box of boxes) {
                box.readOnly = false;
                console.log(box);
            }
        })
        $(document).on('click', '.save', function (e) {
            e.preventDefault();
            let sr_no=$(this).val();
            $.ajax({
                type: 'POST',
                url: '{% url "editvpss" %}',
                data: {
                    sr_no:sr_no,
                    Qty:parseInt(document.getElementById(sr_no+"Qty").value),
                    InputPrice:parseInt(document.getElementById(sr_no+"InputPrice").value),
                    DiscountedPrice:parseInt(document.getElementById(sr_no+"DiscountedPrice").value),
                    InputCostInclusiveoffreight:parseInt(document.getElementById(sr_no+"InputCostInclusiveoffreight").value),
                    UnitCost:parseInt(document.getElementById(sr_no+"UnitCost").value),
                    UnitCostInclusiveofRisk:parseInt(document.getElementById(sr_no+"UnitCostInclusiveofRisk").value),
                    UnitCostInclusiveofContigency:parseInt(document.getElementById(sr_no+"UnitCostInclusiveofContigency").value),
                    TotalCost:parseInt(document.getElementById(sr_no+"TotalCost").value),
                    Unit_Price:parseInt(document.getElementById(sr_no+"Unit_Price").value),
                    TotalPrice:parseInt(document.getElementById(sr_no+"TotalPrice").value),
                    UnitPrice:parseInt(document.getElementById(sr_no+"UnitPrice").value),
                    FinalTotalPrice:parseInt(document.getElementById(sr_no+"FinalTotalPrice").value),
                    ListPricewithoutRoundup:parseInt(document.getElementById(sr_no+"ListPricewithoutRoundup").value),
                    ListPricewithRoundedup:parseInt(document.getElementById(sr_no+"ListPricewithRoundedup").value),
                    csrfmiddlewaretoken: $('input[name=csrfmiddlewaretoken]').val(),
                    action: 'post'
                },
                success: function (json) {
                   console.log(json.adg);
                   window.alert("Changes Saved Successfully");
            
                },
                error: function (xhr, errmsg, err) {
                    window.alert(" Changes Could not be Saved");
            
                }
            });
        })
    </script>

</body>

</html>